{% extends 'base.html.twig' %}

{% block title %}Résultats de vos recherches{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style type="text/css">
        .single_advisor_profile {
            position: relative;
            margin-bottom: 50px;
            -webkit-transition-duration: 500ms;
            transition-duration: 500ms;
            z-index: 1;
            border-radius: 15px;
            -webkit-box-shadow: 0 0.25rem 1rem 0 rgba(47, 91, 234, 0.125);
            box-shadow: 0 0.25rem 1rem 0 rgba(47, 91, 234, 0.125);
        }
        .single_advisor_profile .advisor_thumb {
            position: relative;
            z-index: 1;
            border-radius: 15px 15px 0 0;
            margin: 0 auto;
            padding: 0;
            background-color: #fff;
            overflow: hidden;
            height: 250px;
            text-align: center;
            visibility: visible;
            animation-delay: 0.2s;
            animation-name: fadeInUp;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .single_advisor_profile .advisor_thumb img {
            width: 100%;
            height: 100%;
        }
        .single_advisor_profile .advisor_thumb::after {
            -webkit-transition-duration: 500ms;
            transition-duration: 500ms;
            position: absolute;
            width: 150%;
            height: 60px;
            bottom: -45px;
            left: -25%;
            content: "";
            background-color: #ffffff;
            -webkit-transform: rotate(-5deg);
            transform: rotate(-5deg);
        }
        @media only screen and (max-width: 575px) {
            .single_advisor_profile .advisor_thumb::after {
                height: 100px;
                bottom: -90px;
            }
        }
        .single_advisor_profile .advisor_thumb .social-info {
            position: absolute;
            z-index: 1;
            width: 100%;
            bottom: 0;
            right: 30px;
            text-align: right;
        }
        .single_advisor_profile .advisor_thumb .social-info a {
            font-size: 14px;
            color: #020710;
            padding: 0 5px;
        }
        .single_advisor_profile .advisor_thumb .social-info a:hover,
        .single_advisor_profile .advisor_thumb .social-info a:focus {
            color: #3f43fd;
        }
        .single_advisor_profile .advisor_thumb .social-info a:last-child {
            padding-right: 0;
        }
        .single_advisor_profile .single_advisor_details_info, .single_advisor_profile .bactions {
            position: relative;
            z-index: 1;
            text-align: center;
            -webkit-transition-duration: 500ms;
            transition-duration: 500ms;
            border-radius: 0 0 15px 15px;
            background-color: #ffffff;
        }
        .single_advisor_profile .single_advisor_details_info::after {
            -webkit-transition-duration: 500ms;
            transition-duration: 500ms;
            position: absolute;
            z-index: 1;
            width: 50px;
            height: 3px;
            background-color: #3f43fd;
            content: "";
            top: 12px;
            right: 30px;
        }
        .single_advisor_profile .single_advisor_details_info h6 {
            margin-bottom: 0.25rem;
            -webkit-transition-duration: 500ms;
            transition-duration: 500ms;
        }
        @media only screen and (min-width: 768px) and (max-width: 991px) {
            .single_advisor_profile .single_advisor_details_info h6 {
                font-size: 14px;
            }
        }
        .single_advisor_profile:hover .advisor_thumb::after,
        .single_advisor_profile:focus .advisor_thumb::after {
            background-color: #070a57;
        }
        .single_advisor_profile:hover .advisor_thumb .social-info a,
        .single_advisor_profile:focus .advisor_thumb .social-info a {
            color: #ffffff;
        }
        .single_advisor_profile:hover .advisor_thumb .social-info a:hover,
        .single_advisor_profile:hover .advisor_thumb .social-info a:focus,
        .single_advisor_profile:focus .advisor_thumb .social-info a:hover,
        .single_advisor_profile:focus .advisor_thumb .social-info a:focus {
            color: #ffffff;
        }
        .single_advisor_profile:hover .single_advisor_details_info,
        .single_advisor_profile:focus .single_advisor_details_info,
        .single_advisor_profile:hover .bactions,
        .single_advisor_profile:focus .bactions{
            background-color: #070a57;
        }
        .single_advisor_profile:hover .single_advisor_details_info::after,
        .single_advisor_profile:focus .single_advisor_details_info::after {
            background-color: #ffffff;
        }
        .single_advisor_profile:hover .single_advisor_details_info h6,
        .single_advisor_profile:focus .single_advisor_details_info h6 {
            color: #ffffff;
        }
        .single_advisor_profile:hover .single_advisor_details_info p,
        .single_advisor_profile:focus .single_advisor_details_info p {
            color: #ffffff;
        }

        @keyframes rotating {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        .rotating {
            animation: rotating 2s linear infinite;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="col-3 d-none d-md-block">
        <div class="card mb-2">
            <div class="card-body">
                <h5 class="card-title">Ce que nous faisons</h5>
                <p class="card-text">Nous vous aidons à sélectionner, acheter et importer les articles qui vous intéressent depuis la Chine.</p>
                <a href="#" class="card-link">En savoir plus</a>
            </div>
        </div>
        <div class="card mb-2">
            <div class="card-body overflow-hidden">
                <h5 class="card-title">Nous contacter</h5>
                <table class="table table-sm small">
                    <tbody>
                    <tr>
                        <td><i class="fa-solid fa-phone"></i></td>
                        <td>
                            <a href="tel:+261384271168" class="text-decoration-none">
                                +261 38 42 711 68
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td><i class="fa-solid fa-envelope"></i></td>
                        <td>
                            <a href="mailto:duoimportmdg@protonmail.com" class="text-decoration-none">
                                duoimportmdg@protonmail.com
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td class="border-0"><i class="fa-solid fa-location-dot"></i></td>
                        <td class="border-0">
                            <a href="https://maps.app.goo.gl/sifQPRGb4ZWTKG2XA" target="_blank" class="text-decoration-none">
                                Ankadindravola Ivato, Antananarivo Madagascar
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card mb-2 border-0">
            <div class="card-body">
                <h5 class="card-title">Catégories</h5>
                <ul class="list-group list-group-flush small">
                    {% for category in categories %}
                        <li class="list-group-item d-flex justify-content-between align-items-center small">
                            <a href="{{ path('app_category_articles', { id: category.id }) }}" class="text-decoration-none stretched-link">
                                {{ category.label }}
                            </a>
                            <span class="badge bg-secondary rounded-pill small">{{ category.nb }}</span>
                        </li>
                    {% else %}
                        <li class="list-group-item small">Aucune catégorie</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    <div class="col">
        <h2>Les catégories correspondantes à votre recherche</h2>
        {% for category in categoriesFound %}
            <h4>
                {{ category.label }}
                <span class="badge bg-primary rounded-pill small ms-2">{{ category.nb }}</span>
            </h4>
            {{ render(path('app_article_sample', {id: category.id})) }}
        {% else %}
        <p>Aucune catégorie correspond à votre recherche</p>
        {% endfor %}

        <h2>Les articles correspondants à votre recherche</h2>
        {% for article in articlesFound %}
        <div class="col-6 col-sm-3 col-lg-2">
            <div class="single_advisor_profile wow fadeInUp" data-wow-delay="0.2s">
                <!-- Team Thumb-->
                <div class="advisor_thumb" style="background-image: url('{{ asset('uploads/' ~ article.image) }}')">
                    <!-- Social Info-->
                    <div class="social-info"></div>
                </div>
                <!-- Team Details-->
                <div class="single_advisor_details_info d-flex justify-content-end">
                    <div class="p-4 pb-0">
                        <h6>DUO#{{ article.id }}</h6>
                    </div>
                </div>
                <div class="bactions d-flex justify-content-between" style="margin-top: -11px; z-index: 0;">
                    <div class="p-4 position-relative">
                        <a href="{{ path('app_article_show', {'id': article.id}) }}" class="text-decoration-none stretched-link">
                            <i class="fa fa-eye"></i>
                        </a>
                    </div>
                    <div class="p-4 position-relative">
                        <a href="javascript:void(0)" data-path="{{ path('app_wishlist_add', {id: article.id}) }}" class="text-decoration-none stretched-link addToCart">
                            <i class="fa-solid fa-cart-plus"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <p>Aucun article correspond à votre recherche</p>
        {% endfor %}
    </div>
{% endblock %}
